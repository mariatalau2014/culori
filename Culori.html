<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0">
    <title>Jocul Desenelor Realiste</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f0f8ff;
            padding: 10px;
            touch-action: none;
            overscroll-behavior: contain;
            -webkit-tap-highlight-color: transparent;
            width: 100vw;
            overflow-x: hidden;
        }
        h1 {
            color: #2c3e50;
            margin: 8px 0 6px;
            font-size: 18px;
            text-align: center;
            line-height: 1.2;
        }
        .instructions {
            text-align: center;
            margin-bottom: 10px;
            color: #555;
            font-size: 13px;
            padding: 0 6px;
        }
        .tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 10px;
            flex-wrap: nowrap;
            justify-content: flex-start;
            max-width: 100%;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            padding: 4px 2px;
        }
        .tabs::-webkit-scrollbar {
            display: none;
        }
        .tab {
            padding: 4px 8px;
            background: #ddd;
            border: 1px solid #999;
            border-radius: 14px;
            font-size: 12px;
            cursor: pointer;
            user-select: none;
            white-space: nowrap;
            flex-shrink: 0;
        }
        .tab.active {
            background: #3498db;
            color: white;
        }
        .palette {
            display: flex;
            gap: 4px;
            margin-bottom: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .color-option {
            width: 32px;
            height: 32px;
            border: 2px solid #333;
            border-radius: 5px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 12px;
            color: white;
            text-shadow: 1px 1px 1px rgba(0,0,0,0.7);
            cursor: pointer;
        }
        .color-option.selected {
            transform: scale(1.15);
            box-shadow: 0 0 5px rgba(0,0,0,0.6);
        }
        .grid {
            display: grid;
            gap: 1px;
            padding: 5px;
            background-color: #ccc;
            border-radius: 5px;
            border: 1px solid #999;
            max-width: 100%;
            overflow: hidden;
            margin: 0 auto;
        }
        .cell {
            background-color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 8px;
            font-weight: bold;
            color: #333;
            border: 1px solid #ddd;
            user-select: none;
            pointer-events: auto;
        }
        .cell.filled {
            color: transparent !important;
            text-shadow: none;
        }
    </style>
</head>
<body>
    <h1>Jocul Desenelor Realiste</h1>
    <div class="instructions">
        Alege un desen, apoi un număr. Trage degetul pe pătrățelele cu acel număr pentru a le colora!
    </div>

    <div class="tabs" id="tabs"></div>
    <div class="palette" id="palette"></div>
    <div class="grid" id="grid"></div>

    <script>
        // Paletă fixă de culori pentru numere de la 0 la 9
        const numberColors = {
            0: '#ecf0f1', // gri-deschis pentru fundal (0)
            1: '#e74c3c', // roșu
            2: '#3498db', // albastru
            3: '#2ecc71', // verde
            4: '#f1c40f', // galben
            5: '#9b59b6', // violet
            6: '#1abc9c', // turcoaz
            7: '#e67e22', // portocaliu
            8: '#34495e', // albastru închis
            9: '#d35400'  // portocaliu închis
        };

        // Dacă apare un număr >9, folosim o schemă HSL
        function getColorForNumber(num) {
            if (numberColors[num] !== undefined) {
                return numberColors[num];
            }
            const hue = (num * 31) % 360;
            return `hsl(${hue}, 85%, 50%)`;
        }

        const drawings = {
            "Mașină Sport": {
                size: 16,
                grid: [
                    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                    [0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0],
                    [0,0,0,0,1,1,2,2,2,2,1,1,0,0,0,0],
                    [0,0,0,1,1,2,2,2,2,2,2,1,1,0,0,0],
                    [0,0,1,1,3,3,3,3,3,3,3,3,1,1,0,0],
                    [0,1,1,3,3,4,4,4,4,4,4,3,3,1,1,0],
                    [0,1,3,3,4,4,5,5,5,5,4,4,3,3,1,0],
                    [0,1,3,4,4,5,5,6,6,5,5,4,4,3,1,0],
                    [0,1,3,4,5,5,6,6,6,6,5,5,4,3,1,0],
                    [0,1,3,4,5,6,6,7,7,6,6,5,4,3,1,0],
                    [0,1,3,4,5,6,7,7,7,7,6,5,4,3,1,0],
                    [0,1,1,3,3,4,4,4,4,4,4,3,3,1,1,0],
                    [0,0,1,1,3,3,3,3,3,3,3,3,1,1,0,0],
                    [0,0,0,1,1,8,8,8,8,8,8,1,1,0,0,0],
                    [0,0,0,0,1,8,8,8,8,8,8,1,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
                ]
            },
            "Pasăre": {
                size: 14,
                grid: [
                    [0,0,0,0,0,0,1,1,0,0,0,0,0,0],
                    [0,0,0,0,0,1,1,1,1,0,0,0,0,0],
                    [0,0,0,0,1,1,2,2,1,1,0,0,0,0],
                    [0,0,0,1,1,2,2,2,2,1,1,0,0,0],
                    [0,0,1,1,2,2,3,3,2,2,1,1,0,0],
                    [0,1,1,2,2,3,3,3,3,2,2,1,1,0],
                    [0,1,2,2,3,3,4,4,3,3,2,2,1,0],
                    [0,0,1,2,3,4,4,4,4,3,2,1,0,0],
                    [0,0,0,1,2,3,4,4,3,2,1,0,0,0],
                    [0,0,0,0,1,2,3,3,2,1,0,0,0,0],
                    [0,0,0,0,0,1,2,2,1,0,0,0,0,0],
                    [0,0,0,0,0,0,1,1,0,0,0,0,0,0],
                    [0,0,0,0,0,0,5,5,0,0,0,0,0,0],
                    [0,0,0,0,0,5,5,5,5,0,0,0,0,0]
                ]
            },
            "Floră Detaliată": {
                size: 14,
                grid: [
                    [0,0,0,0,0,3,3,3,0,0,0,0,0,0],
                    [0,0,0,0,3,1,1,1,3,0,0,0,0,0],
                    [0,0,0,3,1,1,1,1,1,3,0,0,0,0],
                    [0,0,3,1,1,2,2,1,1,1,3,0,0,0],
                    [0,3,1,1,2,2,2,2,1,1,1,3,0,0],
                    [0,3,1,2,2,4,4,2,2,1,1,3,0,0],
                    [0,0,3,1,2,4,4,2,1,1,3,0,0,0],
                    [0,0,0,3,1,2,2,1,1,3,0,0,0,0],
                    [0,0,0,0,3,1,1,1,3,0,0,0,0,0],
                    [0,0,0,0,0,3,3,3,0,0,0,0,0,0],
                    [0,0,0,0,0,0,5,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,5,0,0,0,0,0,0,0],
                    [0,0,0,0,0,6,6,6,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0,0,0]
                ]
            },
            "Pisică Realistă": {
                size: 14,
                grid: [
                    [0,0,0,1,0,0,0,0,0,1,0,0,0,0],
                    [0,0,1,1,1,0,0,0,1,1,1,0,0,0],
                    [0,1,1,2,1,0,0,0,1,2,1,1,0,0],
                    [0,1,2,2,2,1,0,1,2,2,2,1,0,0],
                    [0,0,1,2,2,1,1,1,2,2,1,0,0,0],
                    [0,0,0,1,2,2,2,2,2,1,0,0,0,0],
                    [0,0,0,0,1,2,2,2,1,0,0,0,0,0],
                    [0,0,0,0,0,1,2,1,0,0,0,0,0,0],
                    [0,0,0,0,0,0,1,0,0,0,0,0,0,0],
                    [0,0,0,0,3,3,3,3,3,0,0,0,0,0],
                    [0,0,0,0,3,4,4,4,3,0,0,0,0,0],
                    [0,0,0,0,0,3,3,3,0,0,0,0,0,0],
                    [0,0,0,0,0,5,5,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0,0,0]
                ]
            },
            "Copac cu Frunze": {
                size: 16,
                grid: [
                    [0,0,0,0,0,0,3,3,3,3,0,0,0,0,0,0],
                    [0,0,0,0,0,3,3,2,2,3,3,0,0,0,0,0],
                    [0,0,0,0,3,3,2,2,2,2,3,3,0,0,0,0],
                    [0,0,0,3,3,2,2,1,1,2,2,3,3,0,0,0],
                    [0,0,3,3,2,2,1,1,1,1,2,2,3,3,0,0],
                    [0,3,3,2,2,1,1,4,4,1,1,2,2,3,3,0],
                    [0,3,2,2,1,1,4,4,4,4,1,1,2,2,3,0],
                    [0,0,3,2,1,4,4,5,5,4,4,1,2,3,0,0],
                    [0,0,0,3,2,4,5,5,5,5,4,2,3,0,0,0],
                    [0,0,0,0,3,4,5,5,5,5,4,3,0,0,0,0],
                    [0,0,0,0,0,3,4,4,4,4,3,0,0,0,0,0],
                    [0,0,0,0,0,0,3,3,3,3,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,6,6,6,6,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
                ]
            },
            "Pește Colorat": {
                size: 14,
                grid: [
                    [0,0,0,0,0,1,1,1,1,0,0,0,0,0],
                    [0,0,0,0,1,2,2,2,2,1,0,0,0,0],
                    [0,0,0,1,2,3,3,3,3,2,1,0,0,0],
                    [0,0,1,2,3,4,4,4,4,3,2,1,0,0],
                    [0,1,2,3,4,5,5,5,5,4,3,2,1,0],
                    [0,1,2,3,4,5,6,6,5,4,3,2,1,0],
                    [0,0,1,2,3,4,5,5,5,4,3,2,1,0],
                    [0,0,0,1,2,3,4,4,4,3,2,1,0,0],
                    [0,0,0,0,1,2,3,3,3,2,1,0,0,0],
                    [0,0,0,0,0,1,2,2,2,1,0,0,0,0],
                    [0,0,0,0,0,0,1,1,1,0,0,0,0,0],
                    [0,0,0,0,0,0,7,7,0,0,0,0,0,0],
                    [0,0,0,0,0,7,7,7,7,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0,0,0]
                ]
            },
            "Fluture Elegant": {
                size: 14,
                grid: [
                    [0,0,0,0,1,1,0,0,1,1,0,0,0,0],
                    [0,0,0,1,2,2,1,1,2,2,1,0,0,0],
                    [0,0,1,2,3,3,2,2,3,3,2,1,0,0],
                    [0,1,2,3,4,4,3,3,4,4,3,2,1,0],
                    [0,1,2,3,4,5,4,4,5,4,3,2,1,0],
                    [0,0,1,2,3,4,5,5,4,3,2,1,0,0],
                    [0,0,0,1,2,3,4,4,3,2,1,0,0,0],
                    [0,0,0,0,1,2,3,3,2,1,0,0,0,0],
                    [0,0,0,0,0,1,2,2,1,0,0,0,0,0],
                    [0,0,0,0,0,0,1,1,0,0,0,0,0,0],
                    [0,0,0,0,0,0,6,6,0,0,0,0,0,0],
                    [0,0,0,0,0,6,6,6,6,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0,0,0]
                ]
            },
            "Rachetă Spațială": {
                size: 14,
                grid: [
                    [0,0,0,0,0,1,1,0,0,0,0,0,0,0],
                    [0,0,0,0,1,2,2,1,0,0,0,0,0,0],
                    [0,0,0,1,2,3,3,2,1,0,0,0,0,0],
                    [0,0,1,2,3,4,4,3,2,1,0,0,0,0],
                    [0,1,2,3,4,5,5,4,3,2,1,0,0,0],
                    [0,1,2,3,4,5,5,4,3,2,1,0,0,0],
                    [0,0,1,2,3,4,4,3,2,1,0,0,0,0],
                    [0,0,0,1,2,3,3,2,1,0,0,0,0,0],
                    [0,0,0,0,1,6,6,1,0,0,0,0,0,0],
                    [0,0,0,0,0,6,6,0,0,0,0,0,0,0],
                    [0,0,0,0,7,7,7,7,0,0,0,0,0,0],
                    [0,0,0,0,7,8,8,7,0,0,0,0,0,0],
                    [0,0,0,0,0,7,7,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0,0,0]
                ]
            },
            "Căprioară": {
                size: 16,
                grid: [
                    [0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0],
                    [0,0,0,0,0,1,2,3,3,2,1,0,0,0,0,0],
                    [0,0,0,0,1,2,3,4,4,3,2,1,0,0,0,0],
                    [0,0,0,1,2,3,4,5,5,4,3,2,1,0,0,0],
                    [0,0,1,2,3,4,5,6,6,5,4,3,2,1,0,0],
                    [0,1,2,3,4,5,6,7,7,6,5,4,3,2,1,0],
                    [0,0,1,2,3,4,5,6,6,5,4,3,2,1,0,0],
                    [0,0,0,1,2,3,4,5,5,4,3,2,1,0,0,0],
                    [0,0,0,0,1,2,3,4,4,3,2,1,0,0,0,0],
                    [0,0,0,0,0,1,2,3,3,2,1,0,0,0,0,0],
                    [0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,8,8,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,8,8,8,8,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
                ]
            },
            "Casa cu Grădină": {
                size: 16,
                grid: [
                    [0,0,0,0,0,0,0,9,9,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,9,9,9,9,0,0,0,0,0,0],
                    [0,0,0,0,0,9,9,1,1,9,9,0,0,0,0,0],
                    [0,0,0,0,9,9,1,1,1,1,9,9,0,0,0,0],
                    [0,0,0,9,9,1,1,2,2,1,1,9,9,0,0,0],
                    [0,0,9,9,1,1,2,2,2,2,1,1,9,9,0,0],
                    [0,9,9,1,1,2,2,3,3,2,2,1,1,9,9,0],
                    [0,9,1,1,2,2,3,3,3,3,2,2,1,1,9,0],
                    [0,0,9,1,2,2,3,4,4,3,2,2,1,9,0,0],
                    [0,0,0,9,2,2,3,4,4,3,2,2,9,0,0,0],
                    [0,0,0,0,9,2,2,3,3,2,2,9,0,0,0,0],
                    [0,0,0,0,0,9,2,2,2,2,9,0,0,0,0,0],
                    [0,0,0,0,0,0,9,5,5,9,0,0,0,0,0,0],
                    [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6],
                    [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6],
                    [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]
                ]
            },
            "Steag Românesc": {
                size: 12,
                grid: [
                    [1,2,3,1,2,3,1,2,3,1,2,3],
                    [1,2,3,1,2,3,1,2,3,1,2,3],
                    [1,2,3,1,2,3,1,2,3,1,2,3],
                    [1,2,3,1,2,3,1,2,3,1,2,3],
                    [1,2,3,1,2,3,1,2,3,1,2,3],
                    [1,2,3,1,2,3,1,2,3,1,2,3],
                    [0,0,4,4,4,4,4,4,4,4,0,0],
                    [0,0,4,5,5,5,5,5,5,4,0,0],
                    [0,0,4,5,6,6,6,6,5,4,0,0],
                    [0,0,4,5,6,7,7,6,5,4,0,0],
                    [0,0,4,5,6,6,6,6,5,4,0,0],
                    [0,0,4,4,4,4,4,4,4,4,0,0]
                ]
            },
            "Inimă cu Fluturi": {
                size: 16,
                grid: [
                    [0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0],
                    [0,0,0,0,1,2,2,1,1,2,2,1,0,0,0,0],
                    [0,0,0,1,2,3,3,2,2,3,3,2,1,0,0,0],
                    [0,0,1,2,3,4,4,3,3,4,4,3,2,1,0,0],
                    [0,1,2,3,4,5,5,4,4,5,5,4,3,2,1,0],
                    [0,1,2,3,4,5,6,5,5,6,5,4,3,2,1,0],
                    [0,0,1,2,3,4,5,6,6,5,4,3,2,1,0,0],
                    [0,0,0,1,2,3,4,5,5,4,3,2,1,0,0,0],
                    [0,0,0,0,1,2,3,4,4,3,2,1,0,0,0,0],
                    [0,0,0,0,0,1,2,3,3,2,1,0,0,0,0,0],
                    [0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,7,7,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,7,7,7,7,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
                ]
            },
            "Soare cu Raze": {
                size: 14,
                grid: [
                    [0,0,0,0,8,8,8,8,8,8,0,0,0,0],
                    [0,0,0,8,7,7,7,7,7,7,8,0,0,0],
                    [0,0,8,7,6,6,6,6,6,6,7,8,0,0],
                    [0,8,7,6,5,5,5,5,5,5,6,7,8,0],
                    [8,7,6,5,4,4,4,4,4,4,5,6,7,8],
                    [8,7,6,5,4,3,3,3,3,4,5,6,7,8],
                    [8,7,6,5,4,3,2,2,3,4,5,6,7,8],
                    [8,7,6,5,4,3,2,1,3,4,5,6,7,8],
                    [8,7,6,5,4,3,3,3,3,4,5,6,7,8],
                    [8,7,6,5,4,4,4,4,4,4,5,6,7,8],
                    [0,8,7,6,5,5,5,5,5,5,6,7,8,0],
                    [0,0,8,7,6,6,6,6,6,6,7,8,0,0],
                    [0,0,0,8,7,7,7,7,7,7,8,0,0,0],
                    [0,0,0,0,8,8,8,8,8,8,0,0,0,0]
                ]
            },
            "Pisică cu Minge": {
                size: 16,
                grid: [
                    [0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],
                    [0,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0],
                    [0,0,0,1,1,2,1,0,0,1,2,1,1,0,0,0],
                    [0,0,1,1,2,2,2,1,1,2,2,2,1,1,0,0],
                    [0,1,1,2,2,3,3,2,2,3,3,2,2,1,1,0],
                    [0,1,2,2,3,3,4,3,3,4,3,3,2,2,1,0],
                    [0,0,1,2,3,4,4,5,5,4,4,3,2,1,0,0],
                    [0,0,0,1,2,3,4,5,5,4,3,2,1,0,0,0],
                    [0,0,0,0,1,2,3,4,4,3,2,1,0,0,0,0],
                    [0,0,0,0,0,1,2,3,3,2,1,0,0,0,0,0],
                    [0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,6,7,7,6,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
                ]
            }
        };

        let currentDrawing = "Mașină Sport";
        let selectedNumber = null;

        function getUniqueNumbers() {
            const grid = drawings[currentDrawing].grid;
            const numbers = new Set();
            for (let row of grid) {
                for (let num of row) {
                    numbers.add(num);
                }
            }
            return Array.from(numbers).sort((a, b) => a - b);
        }

        function colorCell(cell) {
            if (selectedNumber === null) return;
            const num = parseInt(cell.dataset.number);
            if (num === selectedNumber && !cell.classList.contains('filled')) {
                const color = getColorForNumber(selectedNumber);
                cell.style.backgroundColor = color;
                cell.classList.add('filled');
                cell.textContent = '';
            }
        }

        function setupCellEvents(cell) {
            let isTouched = false;

            cell.addEventListener('pointerdown', (e) => {
                e.preventDefault();
                isTouched = true;
                colorCell(cell);
            });

            cell.addEventListener('pointerenter', (e) => {
                if (isTouched) {
                    colorCell(cell);
                }
            });

            const release = () => {
                isTouched = false;
            };

            cell.addEventListener('pointerup', release);
            cell.addEventListener('pointerleave', release);
            cell.addEventListener('pointercancel', release);
        }

        function createTabs() {
            const tabsContainer = document.getElementById('tabs');
            tabsContainer.innerHTML = '';
            Object.keys(drawings).forEach(name => {
                const tab = document.createElement('div');
                tab.className = 'tab';
                if (name === currentDrawing) tab.classList.add('active');
                tab.textContent = name;
                tab.addEventListener('click', () => {
                    currentDrawing = name;
                    createTabs();
                    createPalette();
                    createGrid();
                });
                tabsContainer.appendChild(tab);
            });
        }

        function createPalette() {
            const palette = document.getElementById('palette');
            palette.innerHTML = '';
            const numbers = getUniqueNumbers(); // includem și 0

            numbers.forEach(num => {
                const el = document.createElement('div');
                el.className = 'color-option';
                el.style.backgroundColor = getColorForNumber(num);
                el.textContent = num;
                el.dataset.number = num;
                el.addEventListener('click', () => {
                    document.querySelectorAll('.color-option').forEach(e => e.classList.remove('selected'));
                    el.classList.add('selected');
                    selectedNumber = num;
                });
                palette.appendChild(el);
            });
        }

        function createGrid() {
            const gridContainer = document.getElementById('grid');
            const drawing = drawings[currentDrawing];
            const size = drawing.size;
            const gridData = drawing.grid;

            // Ajustăm dimensiunea celulelor pentru ecrane mici
            const maxWidth = Math.min(window.innerWidth - 20, 320);
            const cellSize = Math.floor(maxWidth / size);
            const finalCellSize = Math.max(16, Math.min(cellSize, 22));

            gridContainer.style.gridTemplateColumns = `repeat(${size}, ${finalCellSize}px)`;
            gridContainer.innerHTML = '';

            for (let r = 0; r < size; r++) {
                for (let c = 0; c < size; c++) {
                    const num = gridData[r][c];
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.style.width = `${finalCellSize}px`;
                    cell.style.height = `${finalCellSize}px`;
                    cell.dataset.number = num;
                    cell.textContent = num;

                    setupCellEvents(cell);
                    gridContainer.appendChild(cell);
                }
            }
        }

        // Inițializare
        createTabs();
        createPalette();
        createGrid();

        // Reinițializare la redimensionare (deși pe telefon nu se întâmplă des)
        window.addEventListener('resize', () => {
            createGrid();
        });
    </script>
</body>
</html>