<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Jocul Numerelor Ascunse</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f0f8ff;
            padding: 12px;
            touch-action: none;
            overscroll-behavior: contain;
            -webkit-tap-highlight-color: transparent;
        }
        h1 {
            color: #2c3e50;
            margin: 10px 0 8px;
            font-size: 20px;
            text-align: center;
        }
        .instructions {
            text-align: center;
            margin-bottom: 12px;
            color: #555;
            font-size: 14px;
            padding: 0 8px;
        }
        .tabs {
            display: flex;
            gap: 6px;
            margin-bottom: 12px;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 100%;
        }
        .tab {
            padding: 5px 10px;
            background: #ddd;
            border: 1px solid #999;
            border-radius: 16px;
            font-size: 13px;
            cursor: pointer;
            user-select: none;
            white-space: nowrap;
        }
        .tab.active {
            background: #3498db;
            color: white;
        }
        .palette {
            display: flex;
            gap: 5px;
            margin-bottom: 12px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .color-option {
            width: 34px;
            height: 34px;
            border: 2px solid #333;
            border-radius: 6px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 13px;
            color: white;
            text-shadow: 1px 1px 1px rgba(0,0,0,0.7);
            cursor: pointer;
        }
        .color-option.selected {
            transform: scale(1.15);
            box-shadow: 0 0 6px rgba(0,0,0,0.6);
        }
        .grid {
            display: grid;
            gap: 1px;
            padding: 6px;
            background-color: #ccc;
            border-radius: 6px;
            border: 1px solid #999;
            max-width: 100%;
            overflow: hidden;
        }
        .cell {
            background-color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 10px;
            font-weight: bold;
            color: #333;
            border: 1px solid #ddd;
            user-select: none;
            pointer-events: auto;
        }
        .cell.filled {
            color: transparent !important;
            text-shadow: none;
        }
    </style>
</head>
<body>
    <h1>Jocul Numerelor Ascunse</h1>
    <div class="instructions">
        Alege un desen, apoi un număr. Trage degetul pe pătrățelele cu acel număr pentru a le colora!
    </div>

    <div class="tabs" id="tabs"></div>
    <div class="palette" id="palette"></div>
    <div class="grid" id="grid"></div>

    <script>
        // Paletă fixă de culori pentru numere de la 0 la 9
        const numberColors = {
            0: '#ffffff', // alb (fundal)
            1: '#e74c3c', // roșu
            2: '#3498db', // albastru
            3: '#2ecc71', // verde
            4: '#f1c40f', // galben
            5: '#9b59b6', // violet
            6: '#1abc9c', // turcoaz
            7: '#e67e22', // portocaliu
            8: '#34495e', // albastru închis
            9: '#d35400'  // portocaliu închis
        };

        // Dacă apare un număr >9, folosim o schemă HSL
        function getColorForNumber(num) {
            if (numberColors[num] !== undefined) {
                return numberColors[num];
            }
            // Pentru numere mai mari de 9
            const hue = (num * 31) % 360;
            return `hsl(${hue}, 85%, 50%)`;
        }

        const drawings = {
            "Mașina": {
                size: 15,
                grid: [
                    [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6],
                    [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6],
                    [6,6,6,6,2,2,2,2,2,2,2,6,6,6,6],
                    [6,6,6,2,2,2,2,2,2,2,2,2,6,6,6],
                    [6,6,2,2,4,4,4,4,4,4,4,2,2,6,6],
                    [6,2,2,2,4,4,4,4,4,4,4,2,2,2,6],
                    [6,2,2,8,2,2,2,2,2,2,2,8,2,2,6],
                    [6,2,2,2,2,2,2,2,2,2,2,2,2,2,6],
                    [6,1,1,1,1,1,1,1,1,1,1,1,1,1,6],
                    [6,1,5,5,5,1,1,1,1,5,5,5,1,1,6],
                    [6,1,5,5,5,1,1,1,1,5,5,5,1,1,6],
                    [6,1,1,1,1,1,1,1,1,1,1,1,1,1,6],
                    [6,6,6,7,7,6,6,6,6,7,7,6,6,6,6],
                    [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6],
                    [6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]
                ]
            },
            "Fluturaș": {
                size: 12,
                grid: [
                    [0,0,0,1,1,1,1,1,1,0,0,0],
                    [0,0,1,2,2,1,1,2,2,1,0,0],
                    [0,1,2,2,2,3,3,2,2,2,1,0],
                    [1,2,2,3,3,3,3,3,3,2,2,1],
                    [1,2,3,3,4,4,4,4,3,3,2,1],
                    [1,1,3,4,4,4,4,4,4,3,1,1],
                    [1,1,3,4,4,4,4,4,4,3,1,1],
                    [1,2,3,3,4,4,4,4,3,3,2,1],
                    [1,2,2,3,3,3,3,3,3,2,2,1],
                    [0,1,2,2,2,3,3,2,2,2,1,0],
                    [0,0,1,2,2,1,1,2,2,1,0,0],
                    [0,0,0,1,1,1,1,1,1,0,0,0]
                ]
            },
            "Casă": {
                size: 12,
                grid: [
                    [0,0,0,0,5,5,5,5,0,0,0,0],
                    [0,0,0,5,5,5,5,5,5,0,0,0],
                    [0,0,5,5,5,5,5,5,5,5,0,0],
                    [0,5,5,1,1,1,1,1,1,5,5,0],
                    [5,5,1,1,1,1,1,1,1,1,5,5],
                    [5,5,1,1,1,1,1,1,1,1,5,5],
                    [5,5,2,2,2,2,2,2,2,2,5,5],
                    [5,5,2,2,2,2,2,2,2,2,5,5],
                    [5,5,3,3,3,3,3,3,3,3,5,5],
                    [5,5,3,3,3,3,3,3,3,3,5,5],
                    [4,4,4,4,4,4,4,4,4,4,4,4],
                    [4,4,4,4,4,4,4,4,4,4,4,4]
                ]
            },
            "Inimă": {
                size: 12,
                grid: [
                    [0,0,1,1,0,0,0,1,1,0,0,0],
                    [0,1,2,2,1,0,1,2,2,1,0,0],
                    [1,2,2,2,2,1,2,2,2,2,1,0],
                    [1,2,2,2,2,2,2,2,2,2,1,0],
                    [0,1,2,2,2,2,2,2,2,1,0,0],
                    [0,0,1,2,2,2,2,2,1,0,0,0],
                    [0,0,0,1,2,2,2,1,0,0,0,0],
                    [0,0,0,0,1,2,1,0,0,0,0,0],
                    [0,0,0,0,0,1,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0]
                ]
            },
            "Soare": {
                size: 10,
                grid: [
                    [0,0,3,3,3,3,3,0,0,0],
                    [0,3,1,1,1,1,1,3,0,0],
                    [3,1,2,2,2,2,2,1,3,0],
                    [3,1,2,4,4,4,2,1,3,0],
                    [3,1,2,4,5,4,2,1,3,0],
                    [3,1,2,4,4,4,2,1,3,0],
                    [3,1,2,2,2,2,2,1,3,0],
                    [0,3,1,1,1,1,1,3,0,0],
                    [0,0,3,3,3,3,3,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0]
                ]
            },
            "Pisică": {
                size: 12,
                grid: [
                    [0,0,1,0,0,0,0,0,1,0,0,0],
                    [0,1,1,1,0,0,0,1,1,1,0,0],
                    [0,0,2,0,0,0,0,0,2,0,0,0],
                    [0,0,2,3,3,3,3,3,3,2,0,0],
                    [0,0,2,3,4,3,3,4,3,2,0,0],
                    [0,0,2,3,3,3,3,3,3,2,0,0],
                    [0,0,0,5,0,0,0,0,5,0,0,0],
                    [0,0,0,0,5,0,0,5,0,0,0,0],
                    [0,0,0,0,0,5,5,0,0,0,0,0],
                    [0,0,0,0,0,6,6,0,0,0,0,0],
                    [0,0,0,0,6,0,0,6,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0]
                ]
            },
            "Steag": {
                size: 10,
                grid: [
                    [1,1,1,1,1,1,1,1,1,1],
                    [2,2,2,2,2,2,2,2,2,2],
                    [3,3,3,3,3,3,3,3,3,3],
                    [0,0,4,4,4,4,4,0,0,0],
                    [0,0,4,5,5,5,4,0,0,0],
                    [0,0,4,5,6,5,4,0,0,0],
                    [0,0,4,5,5,5,4,0,0,0],
                    [0,0,4,4,4,4,4,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0]
                ]
            },
            "Balon": {
                size: 10,
                grid: [
                    [0,0,0,2,2,2,0,0,0,0],
                    [0,0,2,1,1,1,2,0,0,0],
                    [0,2,1,1,1,1,1,2,0,0],
                    [0,2,1,1,1,1,1,2,0,0],
                    [0,0,2,1,1,1,2,0,0,0],
                    [0,0,0,2,2,2,0,0,0,0],
                    [0,0,0,0,3,0,0,0,0,0],
                    [0,0,0,0,3,0,0,0,0,0],
                    [0,0,0,4,4,4,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0]
                ]
            },
            "Copac": {
                size: 12,
                grid: [
                    [0,0,0,0,5,5,0,0,0,0,0,0],
                    [0,0,0,5,5,5,5,0,0,0,0,0],
                    [0,0,5,5,5,5,5,5,0,0,0,0],
                    [0,5,5,5,6,6,5,5,5,0,0,0],
                    [0,0,0,6,6,6,6,0,0,0,0,0],
                    [0,0,0,6,6,6,6,0,0,0,0,0],
                    [0,0,0,6,6,6,6,0,0,0,0,0],
                    [0,0,0,7,7,7,7,0,0,0,0,0],
                    [0,0,0,7,7,7,7,0,0,0,0,0],
                    [0,0,0,7,7,7,7,0,0,0,0,0],
                    [0,0,0,7,7,7,7,0,0,0,0,0],
                    [0,0,0,7,7,7,7,0,0,0,0,0]
                ]
            },
            "Pește": {
                size: 12,
                grid: [
                    [0,0,0,0,1,1,1,1,0,0,0,0],
                    [0,0,0,1,2,2,2,2,1,0,0,0],
                    [0,0,1,2,3,3,3,3,2,1,0,0],
                    [0,1,2,3,4,4,4,4,3,2,1,0],
                    [0,0,1,2,3,3,3,3,2,1,0,0],
                    [0,0,0,1,2,2,2,2,1,0,0,0],
                    [0,0,0,0,1,1,1,1,0,0,0,0],
                    [0,0,0,0,0,5,5,0,0,0,0,0],
                    [0,0,0,0,0,5,5,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0]
                ]
            },
            "Floră": {
                size: 10,
                grid: [
                    [0,0,0,3,3,0,0,0,0,0],
                    [0,0,3,1,1,3,0,0,0,0],
                    [0,3,1,1,1,1,3,0,0,0],
                    [0,0,3,1,1,3,0,0,0,0],
                    [0,0,0,3,3,0,0,0,0,0],
                    [0,0,0,0,4,0,0,0,0,0],
                    [0,0,0,0,4,0,0,0,0,0],
                    [0,0,0,5,5,5,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0]
                ]
            },
            "Rachetă": {
                size: 12,
                grid: [
                    [0,0,0,0,1,1,0,0,0,0,0,0],
                    [0,0,0,1,2,2,1,0,0,0,0,0],
                    [0,0,1,2,3,3,2,1,0,0,0,0],
                    [0,1,2,3,4,4,3,2,1,0,0,0],
                    [0,0,0,5,5,5,5,0,0,0,0,0],
                    [0,0,0,5,6,6,5,0,0,0,0,0],
                    [0,0,0,5,6,6,5,0,0,0,0,0],
                    [0,0,0,5,5,5,5,0,0,0,0,0],
                    [0,0,0,7,7,7,7,0,0,0,0,0],
                    [0,0,0,0,7,7,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0],
                    [0,0,0,0,0,0,0,0,0,0,0,0]
                ]
            }
        };

        let currentDrawing = "Mașina";
        let selectedNumber = null;

        function getUniqueNumbers() {
            const grid = drawings[currentDrawing].grid;
            const numbers = new Set();
            for (let row of grid) {
                for (let num of row) {
                    numbers.add(num);
                }
            }
            return Array.from(numbers).sort((a, b) => a - b);
        }

        function colorCell(cell) {
            if (selectedNumber === null) return;
            const num = parseInt(cell.dataset.number);
            if (num === selectedNumber && !cell.classList.contains('filled')) {
                const color = getColorForNumber(selectedNumber);
                cell.style.backgroundColor = color;
                cell.classList.add('filled');
                cell.textContent = '';
            }
        }

        function setupCellEvents(cell) {
            let isTouched = false;

            cell.addEventListener('pointerdown', (e) => {
                e.preventDefault();
                isTouched = true;
                colorCell(cell);
            });

            cell.addEventListener('pointerenter', (e) => {
                if (isTouched) {
                    colorCell(cell);
                }
            });

            const release = () => {
                isTouched = false;
            };

            cell.addEventListener('pointerup', release);
            cell.addEventListener('pointerleave', release);
            cell.addEventListener('pointercancel', release);
        }

        function createTabs() {
            const tabsContainer = document.getElementById('tabs');
            tabsContainer.innerHTML = '';
            Object.keys(drawings).forEach(name => {
                const tab = document.createElement('div');
                tab.className = 'tab';
                if (name === currentDrawing) tab.classList.add('active');
                tab.textContent = name;
                tab.addEventListener('click', () => {
                    currentDrawing = name;
                    createTabs();
                    createPalette();
                    createGrid();
                });
                tabsContainer.appendChild(tab);
            });
        }

        function createPalette() {
            const palette = document.getElementById('palette');
            palette.innerHTML = '';
            const numbers = getUniqueNumbers().filter(n => n !== 0);

            numbers.forEach(num => {
                const el = document.createElement('div');
                el.className = 'color-option';
                el.style.backgroundColor = getColorForNumber(num);
                el.textContent = num;
                el.dataset.number = num;
                el.addEventListener('click', () => {
                    document.querySelectorAll('.color-option').forEach(e => e.classList.remove('selected'));
                    el.classList.add('selected');
                    selectedNumber = num;
                });
                palette.appendChild(el);
            });
        }

        function createGrid() {
            const gridContainer = document.getElementById('grid');
            const drawing = drawings[currentDrawing];
            const size = drawing.size;
            const gridData = drawing.grid;

            const cellSize = Math.min(24, Math.floor(300 / size));
            gridContainer.style.gridTemplateColumns = `repeat(${size}, ${cellSize}px)`;
            gridContainer.innerHTML = '';

            for (let r = 0; r < size; r++) {
                for (let c = 0; c < size; c++) {
                    const num = gridData[r][c];
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.style.width = `${cellSize}px`;
                    cell.style.height = `${cellSize}px`;
                    cell.dataset.number = num;
                    cell.textContent = num;

                    setupCellEvents(cell);
                    gridContainer.appendChild(cell);
                }
            }
        }

        // Inițializare
        createTabs();
        createPalette();
        createGrid();
    </script>
</body>
</html>

